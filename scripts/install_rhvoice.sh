#!/bin/bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ RHVoice –¥–ª—è –≥–æ–ª–æ—Å–∞ –ï–ª–µ–Ω—ã

echo "üîä –£–°–¢–ê–ù–û–í–ö–ê RHVOICE –î–õ–Ø –ï–õ–ï–ù–´"
echo "================================"

# 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
echo "üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤..."
sudo apt update

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ RHVoice
echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ RHVoice..."
sudo apt install -y rhvoice

# 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤
echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä—É—Å—Å–∫–∏—Ö –≥–æ–ª–æ—Å–æ–≤..."
sudo apt install -y rhvoice-russian

# 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞
echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–∞..."
sudo apt install -y alsa-utils  # –¥–ª—è aplay

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:"
which RHVoice-test || echo "‚ùå RHVoice-test –Ω–µ –Ω–∞–π–¥–µ–Ω"

# 6. –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤
echo "üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ–ª–æ—Å–∞:"
RHVoice-test --voices 2>/dev/null || echo "   –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–∑–∂–µ: RHVoice-test --voices"

# 7. –¢–µ—Å—Ç –≥–æ–ª–æ—Å–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å python)
if command -v python3 &> /dev/null; then
    echo "üîä –¢–µ—Å—Ç –≥–æ–ª–æ—Å–∞..."
    python3 -c "
import os
os.system('echo \"–ü—Ä–∏–≤–µ—Ç! –Ø –≥–æ–ª–æ—Å –ï–ª–µ–Ω—ã.\" | RHVoice-test -p elena -o /tmp/test.wav && aplay /tmp/test.wav')
"
fi

echo ""
echo "‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo ""
echo "üìù –ï—Å–ª–∏ –≥–æ–ª–æ—Å 'elena' –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –∏–º–µ–Ω–∞:"
echo "   - elena"
echo "   - Elena"
echo "   - irina"
echo "   - natalia"
echo "   - anna"
echo ""
echo "üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –≥–æ–ª–æ—Å–æ–≤:"
echo "   RHVoice-test --voices"